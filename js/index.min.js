const url="http://localhost:3000/api/cameras";function displayList(e){for(let t of e){const e=document.getElementById("items").appendChild(document.createElement("div"));e.classList.add("item");const n=e.appendChild(document.createElement("h4"));n.classList.add("item__name"),n.innerText=t.name;const d=e.appendChild(document.createElement("div"));d.classList.add("item__image");const i=d.appendChild(document.createElement("img"));i.setAttribute("src",t.imageUrl),i.setAttribute("alt","Photo du modèle "+t.name);const o=e.appendChild(document.createElement("div"));o.classList.add("item__btn"),o.setAttribute("id","see-model"+t._id);const c=o.appendChild(document.createElement("input"));c.setAttribute("type","button"),c.setAttribute("value","Voir ce modèle"),goToModel(t)}}function goToModel(e){let t=document.getElementById("see-model"+e._id),n=new URL(window.location.href).toString().replace("index","product"),d=new URL(n);d.searchParams.set("id",e._id),t.addEventListener("click",function(e){e.preventDefault(),window.location.href=d})}fetch(url).then(function(e){if(e.ok)return e.json()}).then(function(e){displayList(e)}).catch(function(e){console.error("Erreur lors de la requête : ",e);const t=document.getElementById("products-list").appendChild(document.createElement("div"));t.classList.add("error"),t.innerText="Une erreur est survenue lors du chargement des produits."});